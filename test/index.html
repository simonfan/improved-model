<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>mocha unit tests</title>

	<link rel="stylesheet" href="../node_modules/mocha/mocha.css">

	<!-- requireJS -->
	<script type="text/javascript" src="../../bower_components/requirejs/require.js"></script>

	<script type="text/javascript">

		require(['../amdconfig'], function(undef) {
			// now that amdconfig is loaded, the base url is /src
            require(['mocha'], function (mocha) {

		        // use mocha with bdd
		        mocha.setup('bdd');

				// now that amdconfig is loaded, the base url is /src
			    require(["text!/test/fixture.html","/test/basics.js","/test/pipe.js","/test/swtch.js","/test/virtual.js","/test/when-do.js","/test/when-set.js"], function(fixtureHtml) {

			    	var fixture = document.createElement('div');
			    	fixture.innerHTML = fixtureHtml;

			    	beforeEach(function () {
			  		  	document.body.appendChild(fixture);
			    	});

			    	afterEach(function () {
			    		fixture.remove();
			    	});

			        mocha.checkLeaks();
			        mocha.run();
			    })
            })

		});
	</script>

</head>
<body>
	<a href="../../index.html">Menu</a>

	<div id="mocha"></div>

</body>
</html>
